<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- 구독 카드 (메인 응답) -->
<div th:replace="~{fragments/subscription-card :: card(${sub})}"></div>

<!-- 요약 통계 OOB swap -->
<div id="dashboard-summary" hx-swap-oob="true" class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4">
    <div class="bg-light-card dark:bg-dark-card rounded-2xl p-3 md:p-4 border border-light-border dark:border-dark-border">
        <p class="text-gray-500 dark:text-gray-400 text-xs md:text-sm mb-1">이번 달 총 구독료</p>
        <p class="text-xl md:text-2xl font-bold" th:text="'₩' + ${#numbers.formatInteger(totalMonthlyFee, 0, 'COMMA')}">₩0</p>
    </div>
    <div class="bg-light-card dark:bg-dark-card rounded-2xl p-3 md:p-4 border border-light-border dark:border-dark-border">
        <p class="text-gray-500 dark:text-gray-400 text-xs md:text-sm mb-1">평균 회당 비용</p>
        <p class="text-xl md:text-2xl font-bold text-emerald-500 dark:text-emerald-400" th:text="'₩' + ${#numbers.formatInteger(avgDailyCost, 0, 'COMMA')}">₩0</p>
    </div>
    <div class="bg-light-card dark:bg-dark-card rounded-2xl p-3 md:p-4 border border-light-border dark:border-dark-border">
        <p class="text-gray-500 dark:text-gray-400 text-xs md:text-sm mb-1">이번 달 총 사용</p>
        <p class="text-xl md:text-2xl font-bold">
            <span th:text="${totalUsageCount}">0</span>
            <span class="text-sm md:text-base text-gray-500">회</span>
        </p>
    </div>
    <div class="bg-light-card dark:bg-dark-card rounded-2xl p-3 md:p-4 border border-light-border dark:border-dark-border">
        <p class="text-gray-500 dark:text-gray-400 text-xs md:text-sm mb-1">활성 구독</p>
        <p class="text-xl md:text-2xl font-bold">
            <span th:text="${activeSubscriptionCount}">0</span>
            <span class="text-sm md:text-base text-gray-500">개</span>
        </p>
    </div>
</div>

</html>
